(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{8933:function(e,t,n){Promise.resolve().then(n.bind(n,8108))},8108:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return BuilderPage}});var r=n(7437),a=n(2265),l=n(4033),i=n(116),s=n(3868),o=n(813),u=n(930);function BuilderPage(){let e=(0,l.useParams)(),t=e.id,n=(0,i.useLocale)(),[d,c]=(0,a.useState)(null);function save(e,t){if(!d)return;let n=(0,o.Jp)(d.id,{data:{[e]:t}});n&&c(n)}return((0,a.useEffect)(()=>{if("new"===t){var e;let t=null===(e=(0,s.PR)())||void 0===e?void 0:e.email;if(!t)return;let r=(0,o.qy)(t,"Resume");window.location.replace("/".concat(n,"/builder/").concat(r.id));return}let r=(0,o.Yk)(t);c(r)},[t,n]),d)?(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"CV Builder"}),(0,r.jsx)("label",{className:"mt-6 block text-sm text-white/70",children:"Name"}),(0,r.jsx)("input",{value:d.data.name||"",onChange:e=>save("name",e.target.value),className:"mt-1 w-full rounded-xl border border-white/20 bg-transparent px-4 py-3 outline-none"}),(0,r.jsx)("label",{className:"mt-4 block text-sm text-white/70",children:"Headline"}),(0,r.jsx)("input",{value:d.data.headline||"",onChange:e=>save("headline",e.target.value),className:"mt-1 w-full rounded-xl border border-white/20 bg-transparent px-4 py-3 outline-none"}),(0,r.jsx)("label",{className:"mt-4 block text-sm text-white/70",children:"Summary"}),(0,r.jsx)("textarea",{value:d.data.summary||"",onChange:e=>save("summary",e.target.value),rows:4,className:"mt-1 w-full rounded-xl border border-white/20 bg-transparent px-4 py-3 outline-none"}),(0,r.jsx)("label",{className:"mt-4 block text-sm text-white/70",children:"Experience"}),(0,r.jsx)("textarea",{value:d.data.experience||"",onChange:e=>save("experience",e.target.value),rows:6,className:"mt-1 w-full rounded-xl border border-white/20 bg-transparent px-4 py-3 outline-none"}),(0,r.jsx)("button",{id:"download",onClick:function(){if(!d)return;let e=new u.ZP,line=function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.setFontSize(r),e.setFont("helvetica",a?"bold":"normal"),e.text(t,20,n),n+r+4},t=20;t=line(d.data.name||"Your Name",t,18,!0),t=line(d.data.headline||"Job Title",t,12),t=line("Summary",t+6,14,!0),t=line(d.data.summary||"-",t),t=line("Experience",t+6,14,!0);let n=(d.data.experience||"-").split("\n");n.forEach(e=>{t=line(e,t)}),e.save("".concat(d.title||"resume",".pdf"))},className:"mt-6 rounded-xl bg-white px-4 py-2 font-semibold text-emerald-900",children:"Download PDF"})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white p-6 text-emerald-900",children:[(0,r.jsx)("div",{className:"text-3xl font-extrabold",children:d.data.name||"Your Name"}),(0,r.jsx)("div",{className:"mt-1 text-lg",children:d.data.headline||"Job Title"}),(0,r.jsx)("hr",{className:"my-4"}),(0,r.jsx)("div",{className:"font-semibold",children:"Summary"}),(0,r.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:d.data.summary||"—"}),(0,r.jsx)("div",{className:"mt-4 font-semibold",children:"Experience"}),(0,r.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:d.data.experience||"—"})]})]}):null}},3868:function(e,t,n){"use strict";n.d(t,{PR:function(){return getUser},w7:function(){return signOut},z2:function(){return register},zB:function(){return signIn}});let r="talentpaper:users",a="talentpaper:user";function readUsers(){try{return JSON.parse(localStorage.getItem(r)||"[]")}catch(e){return[]}}function getUser(){let e=localStorage.getItem(a);return e?JSON.parse(e):null}function register(e){let t=readUsers(),n=t.some(t=>t.email.toLowerCase()===e.toLowerCase());return!n&&(t.push({email:e}),localStorage.setItem(r,JSON.stringify(t))),localStorage.setItem(a,JSON.stringify({email:e})),{ok:!0}}function signIn(e){let t=readUsers(),n=t.find(t=>t.email.toLowerCase()===e.toLowerCase());return n?(localStorage.setItem(a,JSON.stringify({email:e})),{ok:!0}):{ok:!1,error:"Account not found"}}function signOut(){localStorage.removeItem(a)}},813:function(e,t,n){"use strict";n.d(t,{Jp:function(){return updateCV},LA:function(){return listCVs},Yk:function(){return getCV},qy:function(){return createCV}});let r="talentpaper:cvs";function readAll(){try{return JSON.parse(localStorage.getItem(r)||"[]")}catch(e){return[]}}function writeAll(e){localStorage.setItem(r,JSON.stringify(e))}function listCVs(e){return readAll().filter(t=>t.user===e)}function getCV(e){return readAll().find(t=>t.id===e)||null}function createCV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled CV",n=globalThis.crypto&&"randomUUID"in globalThis.crypto?globalThis.crypto.randomUUID():String(Date.now()),r={id:n,user:e,title:t,data:{},updatedAt:new Date().toISOString()},a=readAll();return a.push(r),writeAll(a),r}function updateCV(e,t){let n=readAll(),r=n.findIndex(t=>t.id===e);return -1===r?null:(n[r]={...n[r],...t,data:{...n[r].data,...t.data||{}},updatedAt:new Date().toISOString()},writeAll(n),n[r])}}},function(e){e.O(0,[125,505,735,720,971,472,744],function(){return e(e.s=8933)}),_N_E=e.O()}]);